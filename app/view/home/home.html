<!-- Main -->
<main class="home">
  <!-- Navbar with logout -->
  <navbar></navbar>
  <!-- Home Navbar -->
  <div class="home-nav">
  <div class="row">
    <!-- Select Project Dropdown -->
    <div class="container">
      <div class="btn-group" uib-dropdown is-open="status.isopen1" auto-close="outsideClick">
        <button id="single-button" class="btn home-btn nav-btn" type="button" uib-dropdown-toggle>
          Select Project <span class="caret"></span>
        </button>
          <ul class="dropdown-menu" uib-dropdown-menu role="menu" aria-labelledby="single-button">
            <project-li
                ng-repeat="item in homeCtrl.projects"
                project="item" role="menuitem"
                ng-click="homeCtrl.fetchProjectLines(item); status.isopen1 = false">
                {{homeCtrl.currentProject.name}}
            </project-li>
            <li><new-project role="menuitem"></new-project></li>
          </ul>
      </div>
    </div>

    <!-- Select Line Dropdown -->
    <div class="container">
      <div class="btn-group" uib-dropdown is-open="status.isopen2" auto-close="outsideClick">
        <button id="single-button" class="btn home-btn nav-btn" ng-if="homeCtrl.currentProject" type="button" uib-dropdown-toggle>
          Select Line <span class="caret"></span>
        </button>
          <ul class="dropdown-menu" uib-dropdown-menu role="menu" aria-labelledby="single-button">
            <line-li
                ng-repeat="item in homeCtrl.currentProject.lines"
                line="item" role="menuitem"
                project="homeCtrl.currentProject"
                ng-click="homeCtrl.fetchLineCages(item); status.isopen2 = false">
                {{homeCtrl.currentProject.line.name}}
            </line-li>
            <li><new-line role="menuitem" project="homeCtrl.currentProject"></new-line></li>

          </ul>
      </div>
    </div>

    <!-- Select Cage Dropdown -->
    <div class="container">
      <div class="btn-group" uib-dropdown is-open="status.isopen3" auto-close="outsideClick">
        <button id="single-button" class="btn home-btn nav-btn" ng-if="homeCtrl.currentLine" type="button" uib-dropdown-toggle>
          Select Cage <span class="caret"></span>
        </button>
          <ul class="dropdown-menu" uib-dropdown-menu role="menu" aria-labelledby="single-button">
            <cage-li
                ng-repeat="item in homeCtrl.currentLine.cages"
                cage="item" role="menuitem"
                line="homeCtrl.currentLine"
                ng-click="homeCtrl.currentCage = item; homeCtrl.fetchMice(); status.isopen3 = false">
                {{homeCtrl.currentLine.cage.name}}
            </cage-li>
            <li><new-cage role="menuitem" line="homeCtrl.currentLine"></new-cage></li>
          </ul>
      </div>
    </div>

    <div class="container" ng-if="homeCtrl.currentCage">
      <button class="btn-round nav-btn" ng-click="homeCtrl.open3(4, homeCtrl.currentCage)"> Add Breeder </button>
    </div>
  </div>
</div> <!-- End Nav Row -->

<div class="home-body-container">
  <div class="row">
    <div class="col span-1-of-3">
      <!-- Project Info and Buttons -->
        <div ng-if="homeCtrl.currentProject">
            <div class="edit-delete-container">
              <h4 class="home-nav-title"><strong>{{homeCtrl.currentProject.name}}</strong>
                <span ng-click="homeCtrl.open3(1, homeCtrl.currentProject)" class="fa fa-pencil"></span>
                <span ng-click="homeCtrl.open(homeCtrl.currentProject)" class="fa fa-trash"></span>
              </h4>
            </div>
        </div>

          <div ng-if="homeCtrl.currentLine">
            <div class="edit-delete-container">
              <h4 class="home-nav-title"><strong>Current Line: </strong>{{homeCtrl.currentLine.name}}
              <span ng-click="homeCtrl.open3(2, homeCtrl.currentLine)" class="fa fa-pencil"></span>
              <span ng-click="homeCtrl.open2(homeCtrl.currentLine)" class="fa fa-trash"></span>
            </h4>
            </div>
          </div>

          <div  ng-if="homeCtrl.currentCage">
            <div class="edit-delete-container">
              <h4 class="home-nav-title"><strong>Current Cage: </strong>{{homeCtrl.currentCage.name}}
              <span ng-click="homeCtrl.open3(3, homeCtrl.currentCage)" class="fa fa-pencil"></span>
              <span ng-click="homeCtrl.deleteCage()" class="fa fa-trash"></span>
            </h4>
            </div>
          </div>

      <div class="line-calculations-container" ng-if="homeCtrl.currentLine">
        <h5><span>Expected Total Pups: </span>{{homeCtrl.expectedTotalPups}}</h5>
        <h5><span>Actual Total PupsLine: </span> {{homeCtrl.currentLine.actualTotalPups}}</h5>
        <h5><span>Expected Usable Pups/Line: </span>{{homeCtrl.expectedUsablePups}}</h5>
      </div>
      <div class="cage-calculations-container" ng-if="homeCtrl.currentCage">
        <h5><span>Expected Date of Birth: </span>{{homeCtrl.expectedDOB}}</h5>
        <h5><span>Actual Date of Birth: </span> {{homeCtrl.actualDOB}}</h5>
      </div>
      <mouse-container ng-if="homeCtrl.currentCage" cage="homeCtrl.currentCage"></mouse-container>
    </div>

  <div class="col span-2-of-3">
    <calendar ng-if="homeCtrl.currentLine" line="homeCtrl.currentLine"></calendar>
  </div>
</div>
</div>

<footer><p>Copyright 2017</p></footer>

</main>
