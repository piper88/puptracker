<!-- Navbar with logout -->
<navbar></navbar>
<!-- Main -->
<main class="home">
  <!-- Home Navbar -->
  <div class="home-nav">
    <!-- Select Project Dropdown -->
    <div class="container">
      <div class="btn-group" uib-dropdown is-open="status.isopen1" auto-close="outsideClick">
        <button id="single-button" class="btn home-btn nav-btn" type="button" uib-dropdown-toggle>
          Select Project <span class="caret"></span>
        </button>
          <ul class="dropdown-menu" uib-dropdown-menu role="menu" aria-labelledby="single-button">
            <project-li
                ng-repeat="item in homeCtrl.projects"
                project="item" role="menuitem"
                ng-click="homeCtrl.fetchProjectLines(item)">
                {{homeCtrl.currentProject.name}}
            </project-li>
            <li><new-project role="menuitem"></new-project></li>
          </ul>
      </div>
    </div>

    <!-- Select Line Dropdown -->
    <div class="container">
      <div class="btn-group" uib-dropdown is-open="status.isopen2" auto-close="outsideClick">
        <button class="btn home-btn nav-btn" ng-if="homeCtrl.currentProject" type="button" uib-dropdown-toggle>
          Select Line <span class="caret"></span>
        </button>
          <ul class="dropdown-menu" uib-dropdown-menu role="menu" aria-labelledby="single-button">
            <line-li
                ng-repeat="item in homeCtrl.currentProject.lines"
                line="item" role="menuitem"
                project="homeCtrl.currentProject"
                ng-click="homeCtrl.fetchLineCages(item)">
                {{homeCtrl.currentProject.line.name}}
            </line-li>
            <li><new-line role="menuitem" project="homeCtrl.currentProject"></new-line></li>

          </ul>
      </div>
    </div>

    <!-- Select Cage Dropdown -->
    <div class="container">
      <div class="btn-group" uib-dropdown is-open="status.isopen3" auto-close="outsideClick">
        <button class="btn home-btn nav-btn" ng-if="homeCtrl.currentLine" type="button" uib-dropdown-toggle>
          Select Cage <span class="caret"></span>
        </button>
          <ul class="dropdown-menu" uib-dropdown-menu role="menu" aria-labelledby="single-button">
            <cage-li
                ng-repeat="item in homeCtrl.currentLine.cages"
                cage="item" role="menuitem"
                line="homeCtrl.currentLine"
                ng-click="homeCtrl.currentCage = item; homeCtrl.fetchMice()">
                {{homeCtrl.currentLine.cage.name}}
            </cage-li>
            <li><new-cage role="menuitem" line="homeCtrl.currentLine"></new-cage></li>
          </ul>
      </div>
    </div>
  </div> <!-- End Nav Row -->

  <!-- Project Info and Buttons -->
  <div class="secondary-menu-container row">
    <div class="col span-1-of-3" ng-if="homeCtrl.currentProject">
        <div class="edit-delete-container">
          <h4 class="home-nav-title"><strong>Project Name: </strong>{{homeCtrl.currentProject.name}}
            <span ng-click="homeCtrl.open3(1, homeCtrl.currentProject)" class="fa fa-pencil"></span>
            <span ng-click="homeCtrl.open(homeCtrl.currentProject)" class="fa fa-trash"></span>
          </h4>
        </div>
    </div>

      <div class="col span-1-of-3" ng-if="homeCtrl.currentLine">
        <div class="edit-delete-container">
          <h4 class="home-nav-title"><strong>Current Line: </strong>{{homeCtrl.currentLine.name}}
          <span ng-click="homeCtrl.open3(2, homeCtrl.currentLine)" class="fa fa-pencil"></span>
          <span ng-click="homeCtrl.open2(homeCtrl.currentLine)" class="fa fa-trash"></span>
        </h4>
        </div>
      </div>

      <div class="col span-1-of-3" ng-if="homeCtrl.currentCage">
        <div class="edit-delete-container">
          <h4 class="home-nav-title"><strong>Current Cage: </strong>{{homeCtrl.currentCage.name}}
          <span ng-click="homeCtrl.open3(3, homeCtrl.currentCage)" class="fa fa-pencil"></span>
          <span ng-click="homeCtrl.deleteCage()" class="fa fa-trash"></span>
        </h4>
        </div>
      </div>
    </div>


  <div class="row">
    <!-- Line Information from Calculations -->
    <div class="line-calculations-container" ng-if="homeCtrl.currentLine">
      <h5><span>Expected Total Pups/Line: </span>{{homeCtrl.expectedTotalPups}}</h5>
      <h5><span>Actual Total Pups/Line: </span> {{homeCtrl.currentLine.actualTotalPups}}</h5>
      <h5><span>Expected Usable Pups/Line: </span>{{homeCtrl.expectedUsablePups}}</h5>
    </div>

    <!-- Cage Information from Calculations -->
    <div class="cage-calculations-container" ng-if="homeCtrl.currentCage">
      <h5><span>Expected Date of Birth: </span>{{homeCtrl.expectedDOB}}</h5>
      <h5><span>Actual Date of Birth: </span> {{homeCtrl.actualDOB}}</h5>
    </div>
  </div>

  <!-- <line-info line="homeCtrl.currentLine" ng-if="homeCtrl.currentLine"></line-info>
  <cage-info cage="homeCtrl.currentCage" ng-if="homeCtrl.currentCage"></cage-info> -->
  <mouse-container ng-if="homeCtrl.currentCage" cage="homeCtrl.currentCage"></mouse-container>

  <!-- <edit-project ng-if="homeCtrl.showEditProject" project="homeCtrl.currentProject"></edit-project>
  <edit-line ng-if="homeCtrl.showEditLine" line="homeCtrl.currentLine"></edit-line>
  <edit-cage ng-if="homeCtrl.showEditCage" cage="homeCtrl.currentCage"></edit-cage> -->

</main>
